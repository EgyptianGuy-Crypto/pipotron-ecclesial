---
import Layout from '../layouts/Layout.astro';

const wordLists = {
  incidents: [
    "Suite aux r√©cents √©v√©nements qui ont touch√© notre communaut√© dioc√©saine",
    "Face aux difficult√©s pastorales que traverse notre dioc√®se en ces temps troubl√©s",
    "Concernant les situations port√©es √† notre attention",
    "√Ä la lumi√®re des t√©moignages qui nous sont parvenus",
    "Devant les d√©fis pastoraux auxquels nous sommes confront√©s",
    "En r√©ponse aux pr√©occupations exprim√©es par nos fid√®les",
    "Suite aux interrogations soulev√©es dans notre dioc√®se",
    "Face aux circonstances qui interpellent notre communaut√©",
    "Concernant les questions qui nous ont √©t√© rapport√©es",
    "√Ä la suite des √©v√©nements qui ont marqu√© notre famille dioc√©saine",
    "Devant les enjeux pastoraux de cette p√©riode d√©licate",
    "En r√©action aux inqui√©tudes exprim√©es"
  ],

  acknowledgments: [
    "nous reconnaissons que des dysfonctionnements ont pu survenir",
    "nous prenons acte des questionnements de notre communaut√©",
    "nous entendons les inqui√©tudes de nos paroissiens",
    "nous mesurons l'ampleur des interrogations suscit√©es",
    "nous sommes conscients des fragilit√©s de notre institution",
    "nous accueillons les interpellations qui nous sont adress√©es",
    "nous admettons que des manquements ont pu se produire",
    "nous comprenons les pr√©occupations de nos fid√®les",
    "nous entendons les questions l√©gitimes pos√©es",
    "nous reconnaissons les difficult√©s rencontr√©es",
    "nous sommes sensibles aux inqui√©tudes exprim√©es",
    "nous prenons la mesure des interrogations soulev√©es"
  ],

  apologies: [
    "manifestons notre proximit√© aux victimes et les encourageons √† aller de l'avant par le pardon",
    "t√©moignons notre compassion aux personnes troubl√©es et les invitons √† tourner la page dans la r√©conciliation",
    "exprimons notre soutien aux √¢mes √©branl√©es et les accompagnons pour avancer par la mis√©ricorde",
    "montrons notre solidarit√© aux personnes affect√©es et les encourageons √† passer √† autre chose dans le pardon",
    "manifestons notre compr√©hension aux victimes et les soutenons pour aller de l'avant par la r√©conciliation",
    "t√©moignons notre bienveillance aux personnes touch√©es et les invitons √† tourner la page dans la mis√©ricorde",
    "exprimons notre empathie aux victimes et les encourageons √† regarder vers l'avenir par le pardon",
    "montrons notre attention aux personnes √©prouv√©es et les accompagnons pour avancer dans la r√©conciliation",
    "manifestons notre fraternit√© aux victimes et les invitons √† aller de l'avant par la mis√©ricorde",
    "t√©moignons notre sollicitude aux √¢mes bless√©es et les encourageons √† tourner la page dans le pardon",
    "exprimons notre proximit√© aux personnes affect√©es et les soutenons pour passer √† autre chose par la r√©conciliation",
    "montrons notre compassion aux victimes et les accompagnons vers l'avenir dans la mis√©ricorde"
  ],

  misericorde: [
    "Rappelons que la mis√©ricorde divine s'√©tend √† tous, et doit guider notre discernement",
    "Le pardon √©vang√©lique concerne chaque membre de notre communaut√©, y compris les accus√©s",
    "La mis√©ricorde du Christ embrasse tous les enfants de Dieu sans exception",
    "La compassion divine rayonne sur chacun. La pr√©somption d'innocence demeure fondamentale",
    "Le pardon du Seigneur s'offre √† tous, m√™me aux plus fautifs d'entre nous",
    "M√©ditons sur la mis√©ricorde infinie qui unit tous nos fr√®res, victimes et coupables pr√©sum√©s, dans la charit√©"
  ],

  actions: [
    "Nous agissons fermement en mettant en place un processus d'√©valuation de nos pratiques",
    "Nous passons √† l'action en renfor√ßant nos dispositifs d'accompagnement spirituel",
    "Nous nous mobilisons r√©solument pour d√©velopper une d√©marche de discernement communautaire",
    "Nous prenons des mesures concr√®tes en instaurant des m√©canismes de dialogue renforc√©s",
    "Nous nous engageons activement √† consolider nos structures de formation pastorale",
    "Nous mettons tout en ≈ìuvre pour approfondir notre r√©flexion dans un esprit de synodalit√©"
  ],

  tourmentes: [
    "Dans la tourmente", "Au c≈ìur de la temp√™te", "En ces temps d'√©preuve", "Malgr√© les turbulences",
    "Dans cette p√©riode difficile", "Au sein de ces bouleversements", "Face √† l'adversit√©", "Dans ces moments troubl√©s",
    "Malgr√© les difficult√©s", "En d√©pit des √©preuves", "Dans ce contexte d√©licat", "Au milieu des d√©fis"
  ],

  goodFruits: [
    "il convient de ne pas occulter les fruits de gr√¢ce de nos paroisses",
    "nous devons garder √† l'esprit les t√©moignages de foi de notre dioc√®se",
    "il serait injuste d'ignorer les actions caritatives de nos communaut√©s",
    "nous ne saurions oublier les vocations qui confirment l'Esprit Saint",
    "rappelons-nous les signes d'esp√©rance de notre √âglise",
    "gardons pr√©sents les √©lans missionnaires qui nous dynamisent",
    "il importe de souligner les merveilles qui s'accomplissent dans nos paroisses",
    "nous devons reconna√Ætre les conversions authentiques de notre dioc√®se",
    "il serait dommage d'omettre les ≈ìuvres caritatives de nos fid√®les",
    "nous ne pouvons ignorer les gr√¢ces qui abondent dans nos communaut√©s",
    "rappelons les initiatives g√©n√©reuses qui fleurissent dans notre √âglise",
    "gardons en m√©moire les projets porteurs d'esp√©rance qui nous animent"
  ],

  originDeflection: [
    "sans nous leurrer sur l'origine de ces perturbations",
    "en gardant √† l'esprit les sources de ces troubles",
    "sans perdre de vue les ferments de division",
    "sans ignorer les v√©ritables causes de ces difficult√©s",
    "en identifiant clairement les racines de ces tensions",
    "sans oublier les influences qui alimentent ces pol√©miques"
  ],

  scapegoats: [
    "certains m√©dias en qu√™te de sensationnalisme",
    "des mouvements traditionalistes ferm√©s au souffle de l'Esprit",
    "des lobbies progressistes d√©connect√©s de la Tradition",
    "des r√©seaux occultes hostiles √† l'√âvangile",
    "des groupuscules anticl√©ricaux",
    "des influences s√©culi√®res cherchant √† saper notre rayonnement",
    "des organes de presse avides de pol√©miques",
    "des courants int√©gristes fig√©s dans leurs certitudes",
    "des factions modernistes √©trang√®res √† l'√âglise",
    "des cercles oppos√©s √† la mission √©vang√©lisatrice",
    "des militants nourris de pr√©jug√©s anti-religieux",
    "des forces s'acharnant √† ternir notre image"
  ],

  spiritualEndings: [
    "afin d'ouvrir des fen√™tres d'esp√©rance sur l'√©ternit√©",
    "pour que jaillissent des sources de gr√¢ce dans nos c≈ìurs",
    "en vue de faire germer la paix √©vang√©lique dans nos √¢mes",
    "dans l'espoir de voir fleurir la mis√©ricorde divine",
    "pour que r√©sonne la m√©lodie c√©leste dans nos pri√®res",
    "afin que s'√©panouisse la lumi√®re du Christ",
    "pour que s'ouvrent les chemins de la r√©conciliation",
    "afin que rayonnent les fruits de l'Esprit Saint",
    "en vue de cultiver les vertus th√©ologales dans nos communaut√©s",
    "dans l'attente de voir grandir la communion fraternelle",
    "pour que s'accomplisse la volont√© divine dans nos vies",
    "afin que se manifestent les signes du Royaume"
  ],

  closings: [
    "Concentrons-nous sur ce qui est beau et √©vang√©lique",
    "Tournons nos regards vers l'esp√©rance chr√©tienne plut√¥t que vers les pol√©miques",
    "Privil√©gions nos liturgies aux controverses m√©diatiques",
    "Pr√©f√©rons l'√©coute fraternelle aux clameurs st√©riles",
    "Choisissons le dialogue plut√¥t que les divisions",
    "Focalisons-nous sur notre mission d'√©vang√©lisation",
    "Orientons nos c≈ìurs vers la beaut√© de la foi",
    "Dirigeons notre attention vers les merveilles de la Cr√©ation plut√¥t que vers les divisions",
    "Favorisons la pri√®re contemplative aux d√©bats st√©riles",
    "Pr√©f√©rons la m√©ditation spirituelle aux pol√©miques destructrices",
    "Choisissons la charit√© chr√©tienne plut√¥t que les affrontements",
    "Concentrons-nous sur l'essentiel de notre vocation pastorale"
  ]
};

const bishopNames = [
  "Mgr Claude-Henri de Mis√©ricorde", "Mgr Adalbert de Contournement", "Mgr S√©raphin du D√©tournement",
  "Mgr Boniface de l'Esquive", "Mgr Th√©ophile de la Langue-de-Bois", "Mgr Ambroise du Flou-Artistique",
  "Mgr Pac√¥me de l'√âvitement", "Mgr Chrysostome de la Diversion", "Mgr B√©n√©dict de l'√âvasion",
  "Mgr Anselme du D√©tournement-d'Attention"
];
---

<Layout title="Pipotron √âpiscopal">
  <div class="py-4">
    <h1 class="mb-2 text-4xl font-bold text-center">Pipotron √âpiscopal</h1>
    
    <!-- Bandeau d'accroche -->
    <div class="mb-6 text-center">
      <p class="text-lg text-white/80 italic">
        Saurez-vous maximiser la langue de bois de notre √©v√™que (fictif) ?
      </p>
    </div>
    
    <div id="progressBar" class="mb-6 mx-auto max-w-4xl hidden">
      <div class="bg-gray-200 rounded-full h-2 mb-2">
        <div id="progressFill" class="bg-yellow-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
      </div>
      <p id="progressText" class="text-center text-base font-medium text-yellow-600"></p>
    </div>
    
    <div class="mb-6 mx-auto max-w-4xl">
      <div class="bg-gray-100 text-black rounded-lg shadow-2xl border-4 border-gray-400 relative overflow-hidden">
        <div class="bg-gray-600 text-white p-6 text-center border-b-4 border-gray-400">
          <div class="flex items-center justify-center space-x-4">
            <div>
              <h2 class="text-xl font-bold">COMMUNIQU√â DE PRESSE</h2>
              <p class="text-sm opacity-90">Dioc√®se de Saint-Barbant</p>
            </div>
          </div>
        </div>
        
        <div class="p-8">
          <div id="result" class="min-h-32 flex items-center justify-center">
            <p class="text-gray-500 text-center italic">
              Cliquez sur "G√©n√©rer un nouveau" pour cr√©er un communiqu√© de mis√©ricorde
            </p>
          </div>
        </div>
        
        <div id="bullshitMeter" class="hidden bg-yellow-100 border-t-2 border-yellow-300 p-4">
          <div class="flex items-center justify-between">
            <span class="text-sm font-medium">Niveau de langue de bois :</span>
            <div id="bullshitStars" class="text-yellow-500"></div>
          </div>
        </div>
        
        <div class="absolute top-0 left-0 w-8 h-8 border-l-4 border-t-4 border-gray-400"></div>
        <div class="absolute top-0 right-0 w-8 h-8 border-r-4 border-t-4 border-gray-400"></div>
        <div class="absolute bottom-0 left-0 w-8 h-8 border-l-4 border-b-4 border-gray-400"></div>
        <div class="absolute bottom-0 right-0 w-8 h-8 border-r-4 border-b-4 border-gray-400"></div>
      </div>
    </div>

    <div class="text-center mb-6">
      <button 
        id="generateBtn" 
        class="btn btn-lg bg-yellow-600 text-black hover:bg-yellow-700 font-semibold mr-4"
      >
        üôè G√©n√©rer un nouveau communiqu√© de mis√©ricorde
      </button>
      <button 
        id="translateBtn" 
        class="btn btn-lg bg-orange-500 text-white hover:bg-orange-600 font-semibold hidden"
      >
        üîç Traduire en fran√ßais normal
      </button>
    </div>

    <div class="mb-6 p-4 bg-white/5 rounded-lg border border-white/10">
      <p class="text-center text-white/90">
        Ou composez manuellement votre communiqu√© en s√©lectionnant dans les listes ci-dessous (dans l'ordre d'apparition)
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">
      <div class="bg-white/5 rounded-lg p-3 border border-white/10">
        <label class="block text-white font-medium mb-2 text-sm">üì∞ Incident (flou)</label>
        <select 
          id="incidents" 
          class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
          size="4"
        >
          <option value="">-- Choisir --</option>
          {wordLists.incidents.map((word, index) => <option key={index} value={word}>{word}</option>)}
        </select>
      </div>

      <div class="bg-white/5 rounded-lg p-3 border border-white/10">
        <label class="block text-white font-medium mb-2 text-sm">üòî Reconnaissance (partielle)</label>
        <select 
          id="acknowledgments" 
          class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
          size="4"
        >
          <option value="">-- Choisir --</option>
          {wordLists.acknowledgments.map((word, index) => <option key={index} value={word}>{word}</option>)}
        </select>
      </div>

      <div class="bg-white/5 rounded-lg p-3 border border-white/10">
        <label class="block text-white font-medium mb-2 text-sm">üíî Excuses (rapides)</label>
        <select 
          id="apologies" 
          class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
          size="4"
        >
          <option value="">-- Choisir --</option>
          {wordLists.apologies.map((word, index) => <option key={index} value={word}>{word}</option>)}
        </select>
      </div>

      <div class="bg-white/5 rounded-lg p-3 border border-white/10">
        <label class="block text-white font-medium mb-2 text-sm">üôè Mis√©ricorde (s√©lective)</label>
        <select 
          id="misericorde" 
          class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
          size="4"
        >
          <option value="">-- Choisir --</option>
          {wordLists.misericorde.map((word, index) => <option key={index} value={word}>{word}</option>)}
        </select>
      </div>

      <div class="bg-white/5 rounded-lg p-3 border border-white/10">
        <label class="block text-white font-medium mb-2 text-sm">‚ö° Actions (vagues)</label>
        <select 
          id="actions" 
          class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
          size="4"
        >
          <option value="">-- Choisir --</option>
          {wordLists.actions.map((word, index) => <option key={index} value={word}>{word}</option>)}
        </select>
      </div>

      <div class="bg-white/5 rounded-lg p-3 border border-white/10">
        <label class="block text-white font-medium mb-2 text-sm">üçá Bons fruits (obligatoires)</label>
        <select 
          id="goodFruits" 
          class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
          size="4"
        >
          <option value="">-- Choisir --</option>
          {wordLists.goodFruits.map((word, index) => <option key={index} value={word}>{word}</option>)}
        </select>
      </div>

      <div class="bg-white/5 rounded-lg p-3 border border-white/10">
        <label class="block text-white font-medium mb-2 text-sm">üîç Origine (d√©tourn√©e)</label>
        <select 
          id="originDeflection" 
          class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
          size="4"
        >
          <option value="">-- Choisir --</option>
          {wordLists.originDeflection.map((word, index) => <option key={index} value={word}>{word}</option>)}
        </select>
      </div>

      <div class="bg-white/5 rounded-lg p-3 border border-white/10">
        <label class="block text-white font-medium mb-2 text-sm">üéØ Boucs √©missaires (pratiques)</label>
        <select 
          id="scapegoats" 
          class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
          size="4"
        >
          <option value="">-- Choisir --</option>
          {wordLists.scapegoats.map((word, index) => <option key={index} value={word}>{word}</option>)}
        </select>
      </div>

      <div class="bg-white/5 rounded-lg p-3 border border-white/10">
        <label class="block text-white font-medium mb-2 text-sm">‚ú® Fins spirituelles (creuses)</label>
        <select 
          id="spiritualEndings" 
          class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
          size="4"
        >
          <option value="">-- Choisir --</option>
          {wordLists.spiritualEndings.map((word, index) => <option key={index} value={word}>{word}</option>)}
        </select>
      </div>

      <div class="bg-white/5 rounded-lg p-3 border border-white/10">
        <label class="block text-white font-medium mb-2 text-sm">üå∏ Conclusion (d√©tournement)</label>
        <select 
          id="closings" 
          class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
          size="4"
        >
          <option value="">-- Choisir --</option>
          {wordLists.closings.map((word, index) => <option key={index} value={word}>{word}</option>)}
        </select>
      </div>
    </div>

    <div class="text-center mt-6">
      <button 
        id="resetBtn" 
        class="btn bg-white/10 text-white hover:bg-white/20"
      >
        üîÑ R√©initialiser
      </button>
    </div>
  </div>

  <script>
    const wordLists = {
      incidents: [
        "Suite aux r√©cents √©v√©nements qui ont touch√© notre communaut√© dioc√©saine",
        "Face aux difficult√©s pastorales que traverse notre dioc√®se en ces temps troubl√©s",
        "Concernant les situations port√©es √† notre attention",
        "√Ä la lumi√®re des t√©moignages qui nous sont parvenus",
        "Devant les d√©fis pastoraux auxquels nous sommes confront√©s",
        "En r√©ponse aux pr√©occupations exprim√©es par nos fid√®les",
        "Suite aux interrogations soulev√©es dans notre dioc√®se",
        "Face aux circonstances qui interpellent notre communaut√©",
        "Concernant les questions qui nous ont √©t√© rapport√©es",
        "√Ä la suite des √©v√©nements qui ont marqu√© notre famille dioc√©saine",
        "Devant les enjeux pastoraux de cette p√©riode d√©licate",
        "En r√©action aux inqui√©tudes exprim√©es"
      ],
      acknowledgments: [
        "nous reconnaissons que des dysfonctionnements ont pu survenir",
        "nous prenons acte des questionnements de notre communaut√©",
        "nous entendons les inqui√©tudes de nos paroissiens",
        "nous mesurons l'ampleur des interrogations suscit√©es",
        "nous sommes conscients des fragilit√©s de notre institution",
        "nous accueillons les interpellations qui nous sont adress√©es",
        "nous admettons que des manquements ont pu se produire",
        "nous comprenons les pr√©occupations de nos fid√®les",
        "nous entendons les questions l√©gitimes pos√©es",
        "nous reconnaissons les difficult√©s rencontr√©es",
        "nous sommes sensibles aux inqui√©tudes exprim√©es",
        "nous prenons la mesure des interrogations soulev√©es"
      ],
      apologies: [
        "manifestons notre proximit√© aux victimes et les encourageons √† aller de l'avant par le pardon",
        "t√©moignons notre compassion aux personnes troubl√©es et les invitons √† tourner la page dans la r√©conciliation",
        "exprimons notre soutien aux √¢mes √©branl√©es et les accompagnons pour avancer par la mis√©ricorde",
        "montrons notre solidarit√© aux personnes affect√©es et les encourageons √† passer √† autre chose dans le pardon",
        "manifestons notre compr√©hension aux victimes et les soutenons pour aller de l'avant par la r√©conciliation",
        "t√©moignons notre bienveillance aux personnes touch√©es et les invitons √† tourner la page dans la mis√©ricorde",
        "exprimons notre empathie aux victimes et les encourageons √† regarder vers l'avenir par le pardon",
        "montrons notre attention aux personnes √©prouv√©es et les accompagnons pour avancer dans la r√©conciliation",
        "manifestons notre fraternit√© aux victimes et les invitons √† aller de l'avant par la mis√©ricorde",
        "t√©moignons notre sollicitude aux √¢mes bless√©es et les encourageons √† tourner la page dans le pardon",
        "exprimons notre proximit√© aux personnes affect√©es et les soutenons pour passer √† autre chose par la r√©conciliation",
        "montrons notre compassion aux victimes et les accompagnons vers l'avenir dans la mis√©ricorde"
      ],
      misericorde: [
        "Rappelons que la mis√©ricorde divine s'√©tend √† tous, et doit guider notre discernement",
        "Le pardon √©vang√©lique concerne chaque membre de notre communaut√©, y compris les accus√©s",
        "La mis√©ricorde du Christ embrasse tous les enfants de Dieu sans exception",
        "La compassion divine rayonne sur chacun. La pr√©somption d'innocence demeure fondamentale",
        "Le pardon du Seigneur s'offre √† tous, m√™me aux plus fautifs d'entre nous",
        "M√©ditons sur la mis√©ricorde infinie qui unit tous nos fr√®res, victimes et coupables pr√©sum√©s, dans la charit√©"
      ],
      actions: [
        "Nous agissons fermement en mettant en place un processus d'√©valuation de nos pratiques",
        "Nous passons √† l'action en renfor√ßant nos dispositifs d'accompagnement spirituel",
        "Nous nous mobilisons r√©solument pour d√©velopper une d√©marche de discernement communautaire",
        "Nous prenons des mesures concr√®tes en instaurant des m√©canismes de dialogue renforc√©s",
        "Nous nous engageons activement √† consolider nos structures de formation pastorale",
        "Nous mettons tout en ≈ìuvre pour approfondir notre r√©flexion dans un esprit de synodalit√©"
      ],
      tourmentes: [
        "Dans la tourmente", "Au c≈ìur de la temp√™te", "En ces temps d'√©preuve", "Malgr√© les turbulences",
        "Dans cette p√©riode difficile", "Au sein de ces bouleversements", "Face √† l'adversit√©", "Dans ces moments troubl√©s",
        "Malgr√© les difficult√©s", "En d√©pit des √©preuves", "Dans ce contexte d√©licat", "Au milieu des d√©fis"
      ],
      goodFruits: [
        "il convient de ne pas occulter les fruits de gr√¢ce de nos paroisses",
        "nous devons garder √† l'esprit les t√©moignages de foi de notre dioc√®se",
        "il serait injuste d'ignorer les actions caritatives de nos communaut√©s",
        "nous ne saurions oublier les vocations qui confirment l'Esprit Saint",
        "rappelons-nous les signes d'esp√©rance de notre √âglise",
        "gardons pr√©sents les √©lans missionnaires qui nous dynamisent",
        "il importe de souligner les merveilles qui s'accomplissent dans nos paroisses",
        "nous devons reconna√Ætre les conversions authentiques de notre dioc√®se",
        "il serait dommage d'omettre les ≈ìuvres caritatives de nos fid√®les",
        "nous ne pouvons ignorer les gr√¢ces qui abondent dans nos communaut√©s",
        "rappelons les initiatives g√©n√©reuses qui fleurissent dans notre √âglise",
        "gardons en m√©moire les projets porteurs d'esp√©rance qui nous animent"
      ],
      originDeflection: [
        "sans nous leurrer sur l'origine de ces perturbations",
        "en gardant √† l'esprit les sources de ces troubles",
        "sans perdre de vue les ferments de division",
        "sans ignorer les v√©ritables causes de ces difficult√©s",
        "en identifiant clairement les racines de ces tensions",
        "sans oublier les influences qui alimentent ces pol√©miques"
      ],
      scapegoats: [
        "certains m√©dias en qu√™te de sensationnalisme",
        "des mouvements traditionalistes ferm√©s au souffle de l'Esprit",
        "des lobbies progressistes d√©connect√©s de la Tradition",
        "des r√©seaux occultes hostiles √† l'√âvangile",
        "des groupuscules anticl√©ricaux",
        "des influences s√©culi√®res cherchant √† saper notre rayonnement",
        "des organes de presse avides de pol√©miques",
        "des courants int√©gristes fig√©s dans leurs certitudes",
        "des factions modernistes √©trang√®res √† l'√âglise",
        "des cercles oppos√©s √† la mission √©vang√©lisatrice",
        "des militants nourris de pr√©jug√©s anti-religieux",
        "des forces s'acharnant √† ternir notre image"
      ],
      spiritualEndings: [
        "afin d'ouvrir des fen√™tres d'esp√©rance sur l'√©ternit√©",
        "pour que jaillissent des sources de gr√¢ce dans nos c≈ìurs",
        "en vue de faire germer la paix √©vang√©lique dans nos √¢mes",
        "dans l'espoir de voir fleurir la mis√©ricorde divine",
        "pour que r√©sonne la m√©lodie c√©leste dans nos pri√®res",
        "afin que s'√©panouisse la lumi√®re du Christ",
        "pour que s'ouvrent les chemins de la r√©conciliation",
        "afin que rayonnent les fruits de l'Esprit Saint",
        "en vue de cultiver les vertus th√©ologales dans nos communaut√©s",
        "dans l'attente de voir grandir la communion fraternelle",
        "pour que s'accomplisse la volont√© divine dans nos vies",
        "afin que se manifestent les signes du Royaume"
      ],
      closings: [
        "Concentrons-nous sur ce qui est beau et √©vang√©lique",
        "Tournons nos regards vers l'esp√©rance chr√©tienne plut√¥t que vers les pol√©miques",
        "Privil√©gions nos liturgies aux controverses m√©diatiques",
        "Pr√©f√©rons l'√©coute fraternelle aux clameurs st√©riles",
        "Choisissons le dialogue plut√¥t que les divisions",
        "Focalisons-nous sur notre mission d'√©vang√©lisation",
        "Orientons nos c≈ìurs vers la beaut√© de la foi",
        "Dirigeons notre attention vers les merveilles de la Cr√©ation plut√¥t que vers les divisions",
        "Favorisons la pri√®re contemplative aux d√©bats st√©riles",
        "Pr√©f√©rons la m√©ditation spirituelle aux pol√©miques destructrices",
        "Choisissons la charit√© chr√©tienne plut√¥t que les affrontements",
        "Concentrons-nous sur l'essentiel de notre vocation pastorale"
      ]
    };

    const bishopNames = [
      "Mgr Claude-Henri de Mis√©ricorde", "Mgr Adalbert de Contournement", "Mgr S√©raphin du D√©tournement",
      "Mgr Boniface de l'Esquive", "Mgr Th√©ophile de la Langue-de-Bois", "Mgr Ambroise du Flou-Artistique",
      "Mgr Pac√¥me de l'√âvitement", "Mgr Chrysostome de la Diversion", "Mgr B√©n√©dict de l'√âvasion",
      "Mgr Anselme du D√©tournement-d'Attention"
    ];

    // Translations √©toff√©es et plus dr√¥les
    const translations = {
      // Reconnaissance
      "nous reconnaissons que des dysfonctionnements ont pu survenir": "on s'est fait choper",
      "nous prenons acte des questionnements de notre communaut√©": "les gens r√¢lent",
      "nous entendons les inqui√©tudes de nos paroissiens": "√ßa gueule dans les paroisses",
      "nous mesurons l'ampleur des interrogations suscit√©es": "c'est la merde totale",
      "nous sommes conscients des fragilit√©s de notre institution": "on a merd√© grave",
      "nous accueillons les interpellations qui nous sont adress√©es": "on fait semblant d'√©couter",
      "nous admettons que des manquements ont pu se produire": "bon ok, on a foir√©",
      "nous comprenons les pr√©occupations de nos fid√®les": "on vous a entendus gueuler",
      "nous entendons les questions l√©gitimes pos√©es": "vos critiques nous gonflent",
      "nous reconnaissons les difficult√©s rencontr√©es": "on avoue qu'on a plant√©",
      "nous sommes sensibles aux inqui√©tudes exprim√©es": "on fait genre qu'on comprend",
      "nous prenons la mesure des interrogations soulev√©es": "on r√©alise qu'on est dans la merde",
      
      // Excuses
      "manifestons notre proximit√© aux victimes": "on fait semblant de compatir",
      "t√©moignons notre compassion aux personnes troubl√©es": "on dit qu'on est d√©sol√©s",
      "exprimons notre soutien aux √¢mes √©branl√©es": "on vous tapote l'√©paule",
      "montrons notre solidarit√© aux personnes affect√©es": "on fait genre qu'on comprend",
      "manifestons notre compr√©hension aux victimes": "on joue la carte de l'empathie",
      "t√©moignons notre bienveillance aux personnes touch√©es": "on vous fait des bisous",
      "exprimons notre empathie aux victimes": "on compatit (pas vraiment)",
      "montrons notre attention aux personnes √©prouv√©es": "on fait semblant de s'int√©resser",
      "manifestons notre fraternit√© aux victimes": "on joue la famille",
      "t√©moignons notre sollicitude aux √¢mes bless√©es": "on vous plaint (mollement)",
      "exprimons notre proximit√© aux personnes affect√©es": "on fait comme si on √©tait proches",
      "montrons notre compassion aux victimes": "on sort les violons",
      "les encourageons √† aller de l'avant": "passez √† autre chose",
      "les invitons √† tourner la page": "oubliez tout √ßa",
      "les accompagnons pour avancer": "on vous pousse vers la sortie",
      "les encourageons √† passer √† autre chose": "circulez, y'a rien √† voir",
      "les soutenons pour aller de l'avant": "avancez et fermez-la",
      "les invitons √† tourner la page": "n'en parlons plus",
      "les encourageons √† regarder vers l'avenir": "regardez devant vous",
      "les accompagnons vers l'avenir": "on vous vire poliment",
      "par le pardon": "en fermant votre gueule",
      "dans la r√©conciliation": "en nous pardonnant",
      "par la mis√©ricorde": "en nous oubliant",
      
      // Mis√©ricorde
      "la mis√©ricorde divine s'√©tend √† tous": "on prot√®ge nos copains",
      "le pardon √©vang√©lique concerne chaque membre": "on s'en fout de la justice",
      "la mis√©ricorde du Christ embrasse tous": "J√©sus pardonne tout",
      "la compassion divine rayonne sur chacun": "Dieu excuse tout le monde",
      "la pr√©somption d'innocence demeure fondamentale": "on veut pas trop fouiller",
      "le pardon du Seigneur s'offre √† tous": "on pardonne m√™me aux coupables",
      "la mis√©ricorde infinie qui unit tous nos fr√®res": "on est tous copains",
      "victimes et coupables pr√©sum√©s": "tout le monde dans le m√™me sac",
      "et doit guider notre discernement": "alors on juge pas",
      "y compris les accus√©s": "m√™me les coupables",
      "sans exception": "absolument tout le monde",
      "m√™me aux plus fautifs": "m√™me aux pires",
      "dans la charit√©": "en mode bisounours",
      
      // Actions (style "on va rien faire")
      "nous agissons fermement": "on va rien faire",
      "nous passons √† l'action": "on va peut-√™tre y r√©fl√©chir",
      "nous nous mobilisons r√©solument": "on va faire semblant",
      "nous prenons des mesures concr√®tes": "une commission totalement inutile",
      "nous nous engageons activement": "on promet (mais on tiendra pas)",
      "nous mettons tout en ≈ìuvre": "on va essayer de faire quelque chose",
      "en mettant en place un processus": "on va cr√©er des r√©unions √† la con",
      "en renfor√ßant nos dispositifs": "on va embaucher des consultants",
      "pour d√©velopper une d√©marche": "pour pondre un rapport bidon",
      "en instaurant des m√©canismes": "en cr√©ant de la paperasse inutile",
      "√† consolider nos structures": "√† r√©organiser le bordel",
      "pour approfondir notre r√©flexion": "pour r√©fl√©chir encore plus dans le vide",
      "dans un esprit de synodalit√©": "en parlant dans le vide",
      "d'√©valuation de nos pratiques": "pour se regarder le nombril",
      "d'accompagnement spirituel": "de coaching √† la con",
      "de discernement communautaire": "de blabla collectif",
      "de dialogue renforc√©s": "de bavardage intensif",
      "de formation pastorale": "de cours de langue de bois",
      
      // Bons fruits (d√©tournement d'attention)
      "il convient de ne pas occulter": "regardez ailleurs",
      "nous devons garder √† l'esprit": "oubliez le scandale",
      "il serait injuste d'ignorer": "on fait aussi du bien",
      "nous ne saurions oublier": "pensez plut√¥t √† √ßa",
      "rappelons-nous": "souvenez-vous plut√¥t",
      "gardons pr√©sents": "concentrez-vous sur",
      "il importe de souligner": "admirez plut√¥t",
      "nous devons reconna√Ætre": "regardez comme c'est beau",
      "il serait dommage d'omettre": "ne ratez pas √ßa",
      "nous ne pouvons ignorer": "vous devez voir √ßa",
      "rappelons": "oubliez le reste et regardez",
      "gardons en m√©moire": "retenez surtout √ßa",
      "les fruits de gr√¢ce de nos paroisses": "nos trucs sympas",
      "les t√©moignages de foi de notre dioc√®se": "nos success stories",
      "les actions caritatives de nos communaut√©s": "nos bonnes ≈ìuvres",
      "les vocations qui confirment l'Esprit Saint": "nos nouvelles recrues",
      "les signes d'esp√©rance de notre √âglise": "nos petits miracles",
      "les √©lans missionnaires qui nous dynamisent": "notre motivation",
      "les merveilles qui s'accomplissent": "nos exploits",
      "les conversions authentiques": "nos clients satisfaits",
      "les ≈ìuvres caritatives de nos fid√®les": "la charit√© qu'on fait",
      "les gr√¢ces qui abondent": "tous nos trucs g√©niaux",
      "les initiatives g√©n√©reuses": "nos bonnes actions",
      "les projets porteurs d'esp√©rance": "nos plans d'avenir",
      
      // Origine (c'est la faute des autres)
      "sans nous leurrer sur l'origine": "c'est la faute des autres",
      "en gardant √† l'esprit les sources": "cherchez les vrais coupables",
      "sans perdre de vue les ferments": "c'est un complot",
      "sans ignorer les v√©ritables causes": "les responsables sont ailleurs",
      "en identifiant clairement les racines": "trouvez les vrais m√©chants",
      "sans oublier les influences": "c'est organis√© contre nous",
      "de ces perturbations": "de ce bordel",
      "de ces troubles": "de cette merde",
      "de division": "qui nous emmerdent",
      "de ces difficult√©s": "de ces probl√®mes",
      "de ces tensions": "de cette guerre",
      "qui alimentent ces pol√©miques": "qui foutent la merde",
      
      // Boucs √©missaires
      "certains m√©dias en qu√™te de sensationnalisme": "les journalistes nous emb√™tent",
      "des mouvements traditionalistes ferm√©s": "les cathos de droite nous cassent les pieds",
      "des lobbies progressistes d√©connect√©s": "les cathos de gauche nous emmerdent",
      "des r√©seaux occultes hostiles": "c'est la faute des francs-ma√ßons",
      "des groupuscules anticl√©ricaux": "les ath√©es nous d√©testent",
      "des influences s√©culi√®res": "les la√Øcs nous font chier",
      "des organes de presse avides": "les m√©dias nous cherchent",
      "des courants int√©gristes fig√©s": "les tradis nous gonflent",
      "des factions modernistes √©trang√®res": "les progressistes nous emmerdent",
      "des cercles oppos√©s": "des ennemis",
      "des militants nourris de pr√©jug√©s": "des rageux",
      "des forces s'acharnant": "des m√©chants qui nous d√©testent",
      "cherchant √† saper notre rayonnement": "qui veulent nous niquer",
      "√† ternir notre image": "√† nous salir",
      "√† l'√âvangile": "√† la religion",
      "√† la Tradition": "√† nos traditions",
      "au souffle de l'Esprit": "au changement",
      "√† la mission √©vang√©lisatrice": "√† notre boulot",
      "anti-religieux": "anti-cur√©s",
      "dans leurs certitudes": "dans leur d√©lire",
      
      // Fins spirituelles (blabla pseudo-spirituel)
      "afin d'ouvrir des fen√™tres d'esp√©rance": "blabla pseudo-spirituel",
      "pour que jaillissent des sources de gr√¢ce": "baratin mystique",
      "en vue de faire germer la paix": "charabia religieux",
      "dans l'espoir de voir fleurir": "d√©lire mystique",
      "pour que r√©sonne la m√©lodie c√©leste": "blabla c√©leste",
      "afin que s'√©panouisse la lumi√®re": "baratin lumineux",
      "pour que s'ouvrent les chemins": "charabia spirituel",
      "afin que rayonnent les fruits": "d√©lire fruit√©",
      "en vue de cultiver les vertus": "baratin vertueux",
      "dans l'attente de voir grandir": "blabla d'attente",
      "pour que s'accomplisse la volont√© divine": "pour que Dieu soit content",
      "afin que se manifestent les signes": "pour que √ßa se voie",
      "sur l'√©ternit√©": "pour toujours",
      "dans nos c≈ìurs": "en nous",
      "dans nos √¢mes": "dans nos t√™tes",
      "dans nos pri√®res": "quand on prie",
      "du Christ": "de J√©sus",
      "de l'Esprit Saint": "du Saint-Esprit",
      "dans nos communaut√©s": "chez nous",
      "la communion fraternelle": "qu'on s'aime bien",
      "dans nos vies": "dans notre quotidien",
      "du Royaume": "du paradis",
      "de la r√©conciliation": "de la r√©conciliation",
      "de l'Esprit Saint": "du Saint-Esprit",
      "des vertus th√©ologales": "des trucs religieux",
      "des signes du Royaume": "des signes du paradis",
      
      // Conclusions (d√©tournement final)
      "concentrons-nous sur ce qui est beau": "parlons d'autre chose",
      "tournons nos regards vers l'esp√©rance": "ignorez le probl√®me",
      "privil√©gions nos liturgies": "la messe c'est plus important",
      "pr√©f√©rons l'√©coute fraternelle": "fermez-la et priez",
      "choisissons le dialogue": "arr√™tez de nous emmerder",
      "focalisons-nous sur notre mission": "on a autre chose √† faire",
      "orientons nos c≈ìurs vers la beaut√©": "regardez comme c'est joli",
      "dirigeons notre attention vers les merveilles": "admirez plut√¥t √ßa",
      "favorisons la pri√®re contemplative": "priez au lieu de r√¢ler",
      "pr√©f√©rons la m√©ditation spirituelle": "m√©ditez plut√¥t",
      "choisissons la charit√© chr√©tienne": "soyez gentils",
      "concentrons-nous sur l'essentiel": "revenons aux choses importantes",
      "et √©vang√©lique": "et religieux",
      "plut√¥t que vers les pol√©miques": "au lieu de nous faire chier",
      "aux controverses m√©diatiques": "aux conneries des journalistes",
      "aux clameurs st√©riles": "aux cris inutiles",
      "plut√¥t que les divisions": "au lieu de nous diviser",
      "d'√©vang√©lisation": "de conversion",
      "de la foi": "de la religion",
      "de la Cr√©ation": "de ce que Dieu a fait",
      "plut√¥t que vers les divisions": "au lieu de nous s√©parer",
      "aux d√©bats st√©riles": "aux discussions inutiles",
      "aux pol√©miques destructrices": "aux disputes qui cassent tout",
      "plut√¥t que les affrontements": "au lieu de nous battre",
      "de notre vocation pastorale": "de notre job de cur√©s"
    };

    // Score individuel pour chaque phrase (identique au pr√©c√©dent)
    const phraseScores = {
      "Suite aux r√©cents √©v√©nements qui ont touch√© notre communaut√© dioc√©saine": 2,
      "Face aux difficult√©s pastorales que traverse notre dioc√®se en ces temps troubl√©s": 3,
      "Concernant les situations port√©es √† notre attention": 1,
      "√Ä la lumi√®re des t√©moignages qui nous sont parvenus": 2,
      "Devant les d√©fis pastoraux auxquels nous sommes confront√©s": 2,
      "En r√©ponse aux pr√©occupations exprim√©es par nos fid√®les": 1,
      "Suite aux interrogations soulev√©es dans notre dioc√®se": 2,
      "Face aux circonstances qui interpellent notre communaut√©": 2,
      "Concernant les questions qui nous ont √©t√© rapport√©es": 1,
      "√Ä la suite des √©v√©nements qui ont marqu√© notre famille dioc√©saine": 3,
      "Devant les enjeux pastoraux de cette p√©riode d√©licate": 3,
      "En r√©action aux inqui√©tudes exprim√©es": 1,
      "nous reconnaissons que des dysfonctionnements ont pu survenir": 1,
      "nous prenons acte des questionnements de notre communaut√©": 2,
      "nous entendons les inqui√©tudes de nos paroissiens": 1,
      "nous mesurons l'ampleur des interrogations suscit√©es": 2,
      "nous sommes conscients des fragilit√©s de notre institution": 2,
      "nous accueillons les interpellations qui nous sont adress√©es": 2,
      "nous admettons que des manquements ont pu se produire": 1,
      "nous comprenons les pr√©occupations de nos fid√®les": 1,
      "nous entendons les questions l√©gitimes pos√©es": 1,
      "nous reconnaissons les difficult√©s rencontr√©es": 1,
      "nous sommes sensibles aux inqui√©tudes exprim√©es": 2,
      "nous prenons la mesure des interrogations soulev√©es": 2,
      "manifestons notre proximit√© aux victimes et les encourageons √† aller de l'avant par le pardon": 4,
      "t√©moignons notre compassion aux personnes troubl√©es et les invitons √† tourner la page dans la r√©conciliation": 4,
      "exprimons notre soutien aux √¢mes √©branl√©es et les accompagnons pour avancer par la mis√©ricorde": 3,
      "montrons notre solidarit√© aux personnes affect√©es et les encourageons √† passer √† autre chose dans le pardon": 4,
      "manifestons notre compr√©hension aux victimes et les soutenons pour aller de l'avant par la r√©conciliation": 3,
      "t√©moignons notre bienveillance aux personnes touch√©es et les invitons √† tourner la page dans la mis√©ricorde": 4,
      "exprimons notre empathie aux victimes et les encourageons √† regarder vers l'avenir par le pardon": 3,
      "montrons notre attention aux personnes √©prouv√©es et les accompagnons pour avancer dans la r√©conciliation": 3,
      "manifestons notre fraternit√© aux victimes et les invitons √† aller de l'avant par la mis√©ricorde": 4,
      "t√©moignons notre sollicitude aux √¢mes bless√©es et les encourageons √† tourner la page dans le pardon": 4,
      "exprimons notre proximit√© aux personnes affect√©es et les soutenons pour passer √† autre chose par la r√©conciliation": 4,
      "montrons notre compassion aux victimes et les accompagnons vers l'avenir dans la mis√©ricorde": 3,
      "Rappelons que la mis√©ricorde divine s'√©tend √† tous, et doit guider notre discernement": 4,
      "Le pardon √©vang√©lique concerne chaque membre de notre communaut√©, y compris les accus√©s": 5,
      "La mis√©ricorde du Christ embrasse tous les enfants de Dieu sans exception": 4,
      "La compassion divine rayonne sur chacun. La pr√©somption d'innocence demeure fondamentale": 5,
      "Le pardon du Seigneur s'offre √† tous, m√™me aux plus fautifs d'entre nous": 5,
      "M√©ditons sur la mis√©ricorde infinie qui unit tous nos fr√®res, victimes et coupables pr√©sum√©s, dans la charit√©": 5,
      "Nous agissons fermement en mettant en place un processus d'√©valuation de nos pratiques": 5,
      "Nous passons √† l'action en renfor√ßant nos dispositifs d'accompagnement spirituel": 4,
      "Nous nous mobilisons r√©solument pour d√©velopper une d√©marche de discernement communautaire": 5,
      "Nous prenons des mesures concr√®tes en instaurant des m√©canismes de dialogue renforc√©s": 5,
      "Nous nous engageons activement √† consolider nos structures de formation pastorale": 4,
      "Nous mettons tout en ≈ìuvre pour approfondir notre r√©flexion dans un esprit de synodalit√©": 5,
      "il convient de ne pas occulter les fruits de gr√¢ce de nos paroisses": 4,
      "nous devons garder √† l'esprit les t√©moignages de foi de notre dioc√®se": 3,
      "il serait injuste d'ignorer les actions caritatives de nos communaut√©s": 3,
      "nous ne saurions oublier les vocations qui confirment l'Esprit Saint": 3,
      "rappelons-nous les signes d'esp√©rance de notre √âglise": 2,
      "gardons pr√©sents les √©lans missionnaires qui nous dynamisent": 3,
      "il importe de souligner les merveilles qui s'accomplissent dans nos paroisses": 4,
      "nous devons reconna√Ætre les conversions authentiques de notre dioc√®se": 3,
      "il serait dommage d'omettre les ≈ìuvres caritatives de nos fid√®les": 3,
      "nous ne pouvons ignorer les gr√¢ces qui abondent dans nos communaut√©s": 4,
      "rappelons les initiatives g√©n√©reuses qui fleurissent dans notre √âglise": 3,
      "gardons en m√©moire les projets porteurs d'esp√©rance qui nous animent": 3,
      "sans nous leurrer sur l'origine de ces perturbations": 4,
      "en gardant √† l'esprit les sources de ces troubles": 3,
      "sans perdre de vue les ferments de division": 4,
      "sans ignorer les v√©ritables causes de ces difficult√©s": 3,
      "en identifiant clairement les racines de ces tensions": 4,
      "sans oublier les influences qui alimentent ces pol√©miques": 4,
      "certains m√©dias en qu√™te de sensationnalisme": 3,
      "des mouvements traditionalistes ferm√©s au souffle de l'Esprit": 4,
      "des lobbies progressistes d√©connect√©s de la Tradition": 4,
      "des r√©seaux occultes hostiles √† l'√âvangile": 4,
      "des groupuscules anticl√©ricaux": 2,
      "des influences s√©culi√®res cherchant √† saper notre rayonnement": 4,
      "des organes de presse avides de pol√©miques": 3,
      "des courants int√©gristes fig√©s dans leurs certitudes": 4,
      "des factions modernistes √©trang√®res √† l'√âglise": 4,
      "des cercles oppos√©s √† la mission √©vang√©lisatrice": 3,
      "des militants nourris de pr√©jug√©s anti-religieux": 3,
      "des forces s'acharnant √† ternir notre image": 3,
      "afin d'ouvrir des fen√™tres d'esp√©rance sur l'√©ternit√©": 3,
      "pour que jaillissent des sources de gr√¢ce dans nos c≈ìurs": 3,
      "en vue de faire germer la paix √©vang√©lique dans nos √¢mes": 3,
      "dans l'espoir de voir fleurir la mis√©ricorde divine": 2,
      "pour que r√©sonne la m√©lodie c√©leste dans nos pri√®res": 3,
      "afin que s'√©panouisse la lumi√®re du Christ": 2,
      "pour que s'ouvrent les chemins de la r√©conciliation": 2,
      "afin que rayonnent les fruits de l'Esprit Saint": 3,
      "en vue de cultiver les vertus th√©ologales dans nos communaut√©s": 3,
      "dans l'attente de voir grandir la communion fraternelle": 2,
      "pour que s'accomplisse la volont√© divine dans nos vies": 2,
      "afin que se manifestent les signes du Royaume": 3,
      "Concentrons-nous sur ce qui est beau et √©vang√©lique": 3,
      "Tournons nos regards vers l'esp√©rance chr√©tienne plut√¥t que vers les pol√©miques": 4,
      "Privil√©gions nos liturgies aux controverses m√©diatiques": 4,
      "Pr√©f√©rons l'√©coute fraternelle aux clameurs st√©riles": 3,
      "Choisissons le dialogue plut√¥t que les divisions": 3,
      "Focalisons-nous sur notre mission d'√©vang√©lisation": 2,
      "Orientons nos c≈ìurs vers la beaut√© de la foi": 3,
      "Dirigeons notre attention vers les merveilles de la Cr√©ation plut√¥t que vers les divisions": 4,
      "Favorisons la pri√®re contemplative aux d√©bats st√©riles": 4,
      "Pr√©f√©rons la m√©ditation spirituelle aux pol√©miques destructrices": 4,
      "Choisissons la charit√© chr√©tienne plut√¥t que les affrontements": 3,
      "Concentrons-nous sur l'essentiel de notre vocation pastorale": 3
    };

    function getRandomItem(array) {
      return array[Math.floor(Math.random() * array.length)];
    }

    function calculateBullshitLevel(selectedTexts) {
      let totalScore = 0;
      
      Object.values(selectedTexts).forEach(text => {
        if (text && phraseScores[text]) {
          totalScore += phraseScores[text];
        }
      });
      
      const level = Math.min(Math.max(Math.ceil(totalScore / 5), 6), 10);
      return level;
    }

    function showBullshitMeter(level) {
      const meter = document.getElementById('bullshitMeter');
      const stars = document.getElementById('bullshitStars');
      stars.innerHTML = '‚òÖ'.repeat(level) + '‚òÜ'.repeat(10-level);
      meter.classList.remove('hidden');
    }

    function showProgressBar() {
      const progressBar = document.getElementById('progressBar');
      const progressFill = document.getElementById('progressFill');
      const progressText = document.getElementById('progressText');
      
      progressBar.classList.remove('hidden');
      
      const steps = [
        { width: 20, text: "Recherche d'excuses..." },
        { width: 40, text: "Identification des boucs √©missaires..." },
        { width: 60, text: "Application de la mis√©ricorde s√©lective..." },
        { width: 80, text: "D√©tournement d'attention en cours..." },
        { width: 100, text: "Langue de bois optimis√©e !" }
      ];
      
      let currentStep = 0;
      const interval = setInterval(() => {
        if (currentStep < steps.length) {
          progressFill.style.width = steps[currentStep].width + '%';
          progressText.textContent = steps[currentStep].text;
          currentStep++;
        } else {
          clearInterval(interval);
          setTimeout(() => {
            progressBar.classList.add('hidden');
          }, 1000);
        }
      }, 400);
    }

    let currentCommunique = '';
    let currentSelectedItems = {};
    let isTranslated = false;

    function generateCommunique() {
      showProgressBar();
      
      setTimeout(() => {
        const selectedItems = {
          incidents: getRandomItem(wordLists.incidents),
          acknowledgments: getRandomItem(wordLists.acknowledgments),
          apologies: getRandomItem(wordLists.apologies),
          misericorde: getRandomItem(wordLists.misericorde),
          actions: getRandomItem(wordLists.actions),
          tourmentes: getRandomItem(wordLists.tourmentes),
          goodFruits: getRandomItem(wordLists.goodFruits),
          originDeflection: getRandomItem(wordLists.originDeflection),
          scapegoats: getRandomItem(wordLists.scapegoats),
          spiritualEndings: getRandomItem(wordLists.spiritualEndings),
          closings: getRandomItem(wordLists.closings)
        };
        
        currentSelectedItems = selectedItems;
        const bishop = getRandomItem(bishopNames);

        const communique = selectedItems.incidents + ', ' + selectedItems.acknowledgments + '. En ces temps troubl√©s, ' + selectedItems.apologies + '. ' + selectedItems.misericorde + '.\n\n' + selectedItems.actions + ' ' + selectedItems.spiritualEndings + '.\n\n' + selectedItems.tourmentes + ', ' + selectedItems.goodFruits + '. Il importe √©galement, ' + selectedItems.originDeflection + ', de ne pas c√©der aux man≈ìuvres de ' + selectedItems.scapegoats + '.\n\n' + selectedItems.closings + '.';
        
        currentCommunique = communique;
        isTranslated = false;
        
        const bullshitLevel = calculateBullshitLevel(selectedItems);
        
        document.getElementById('result').innerHTML = '<div class="text-left"><p class="text-base font-medium text-gray-800 leading-relaxed mb-6 whitespace-pre-line">' + communique + '</p><div class="text-right text-sm text-gray-600 italic mt-4"><p>+ ' + bishop + '</p><p>√âv√™que de Saint-Barbant</p></div></div>';
        
        showBullshitMeter(bullshitLevel);
        document.getElementById('translateBtn').classList.remove('hidden');
      }, 2000);
    }

    document.getElementById('generateBtn').addEventListener('click', generateCommunique);

    document.getElementById('translateBtn').addEventListener('click', function() {
      if (isTranslated) {
        document.getElementById('result').innerHTML = '<div class="text-left"><p class="text-base font-medium text-gray-800 leading-relaxed mb-6 whitespace-pre-line">' + currentCommunique + '</p><div class="text-right text-sm text-gray-600 italic mt-4"><p>+ ' + getRandomItem(bishopNames) + '</p><p>√âv√™que de Saint-Barbant</p></div></div>';
        this.textContent = 'üîç Traduire en fran√ßais normal';
        isTranslated = false;
      } else {
        let translatedCommunique = currentCommunique;
        
        Object.keys(translations).forEach(key => {
          const regex = new RegExp(key, 'gi');
          translatedCommunique = translatedCommunique.replace(regex, 
            '<span class="line-through text-gray-500">' + key + '</span> <span class="bg-red-200 text-red-800 px-1 rounded font-medium">' + translations[key] + '</span>'
          );
        });
        
        document.getElementById('result').innerHTML = '<div class="text-left"><p class="text-base font-medium text-gray-800 leading-relaxed mb-6 whitespace-pre-line">' + translatedCommunique + '</p><div class="text-right text-sm text-gray-600 italic mt-4"><p>+ ' + getRandomItem(bishopNames) + '</p><p>√âv√™que de Saint-Barbant</p></div></div>';
        this.textContent = '‚Ü©Ô∏è Retour √† l\'original';
        isTranslated = true;
      }
    });

    document.getElementById('resetBtn').addEventListener('click', function() {
      const selects = document.querySelectorAll('select');
      selects.forEach(select => {
        select.selectedIndex = 0;
      });
      document.getElementById('result').innerHTML = '<p class="text-gray-500 text-center italic">Cliquez sur "G√©n√©rer un nouveau" pour cr√©er un communiqu√© de mis√©ricorde</p>';
      document.getElementById('bullshitMeter').classList.add('hidden');
      document.getElementById('translateBtn').classList.add('hidden');
      currentCommunique = '';
      currentSelectedItems = {};
      isTranslated = false;
    });

    const selects = document.querySelectorAll('select');
    selects.forEach(select => {
      select.addEventListener('change', function() {
        updateManualCommunique();
      });
    });

    function updateManualCommunique() {
      const selectedValues = {};
      selects.forEach(select => {
        if (select.value) {
          selectedValues[select.id] = select.value;
        }
      });

      if (Object.keys(selectedValues).length > 0) {
        let communique = "";
        
        if (selectedValues.incidents) communique += selectedValues.incidents;
        if (selectedValues.acknowledgments) communique += ', ' + selectedValues.acknowledgments + '.';
        if (selectedValues.apologies) communique += ' En ces temps troubl√©s, ' + selectedValues.apologies + '.';
        if (selectedValues.misericorde) communique += ' ' + selectedValues.misericorde + '.';

        if (selectedValues.actions) {
          communique += '\n\n' + selectedValues.actions;
          if (selectedValues.spiritualEndings) communique += ' ' + selectedValues.spiritualEndings + '.';
        }

        if (selectedValues.goodFruits) communique += '\n\nDans la tourmente, ' + selectedValues.goodFruits + '.';
        if (selectedValues.originDeflection || selectedValues.scapegoats) {
          communique += " Il importe √©galement, ";
          if (selectedValues.originDeflection) communique += selectedValues.originDeflection + ", ";
          if (selectedValues.scapegoats) communique += 'de ne pas c√©der aux man≈ìuvres de ' + selectedValues.scapegoats + '.';
        }

        if (selectedValues.closings) communique += '\n\n' + selectedValues.closings + '.';

        if (communique.trim()) {
          currentCommunique = communique;
          currentSelectedItems = selectedValues;
          isTranslated = false;
          const bishop = getRandomItem(bishopNames);
          const bullshitLevel = calculateBullshitLevel(selectedValues);
          
          document.getElementById('result').innerHTML = '<div class="text-left"><p class="text-base font-medium text-gray-800 leading-relaxed mb-6 whitespace-pre-line">' + communique + '</p><div class="text-right text-sm text-gray-600 italic mt-4"><p>+ ' + bishop + '</p><p>√âv√™que de Saint-Barbant</p></div></div>';
          
          showBullshitMeter(bullshitLevel);
          document.getElementById('translateBtn').classList.remove('hidden');
          document.getElementById('translateBtn').textContent = 'üîç Traduire en fran√ßais normal';
        }
      }
    }
  </script>
</Layout>
