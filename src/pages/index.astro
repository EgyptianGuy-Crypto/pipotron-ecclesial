---
import Layout from '../layouts/Layout.astro';

const wordLists = {
  // Vague incident starters (doubl√©)
  incidents: [
    "Suite aux r√©cents √©v√©nements qui ont touch√© notre communaut√© dioc√©saine",
    "Face aux difficult√©s pastorales que traverse notre dioc√®se en ces temps troubl√©s",
    "Concernant les situations port√©es √† notre attention",
    "√Ä la lumi√®re des t√©moignages qui nous sont parvenus",
    "Devant les d√©fis pastoraux auxquels nous sommes confront√©s",
    "En r√©ponse aux pr√©occupations exprim√©es par nos fid√®les",
    "Suite aux interrogations soulev√©es dans notre dioc√®se",
    "Face aux circonstances qui interpellent notre communaut√©",
    "Concernant les questions qui nous ont √©t√© rapport√©es",
    "√Ä la suite des √©v√©nements qui ont marqu√© notre famille dioc√©saine",
    "Devant les enjeux pastoraux de cette p√©riode d√©licate",
    "En r√©action aux inqui√©tudes exprim√©es"
  ],

  // Vague acknowledgments (doubl√© et plus court)
  acknowledgments: [
    "nous reconnaissons que des dysfonctionnements ont pu survenir",
    "nous prenons acte des questionnements de notre communaut√©",
    "nous entendons les inqui√©tudes de nos paroissiens",
    "nous mesurons l'ampleur des interrogations suscit√©es",
    "nous sommes conscients des fragilit√©s de notre institution",
    "nous accueillons les interpellations qui nous sont adress√©es",
    "nous admettons que des manquements ont pu se produire",
    "nous comprenons les pr√©occupations de nos fid√®les",
    "nous entendons les questions l√©gitimes pos√©es",
    "nous reconnaissons les difficult√©s rencontr√©es",
    "nous sommes sensibles aux inqui√©tudes exprim√©es",
    "nous prenons la mesure des interrogations soulev√©es"
  ],

  apologies: [
    "manifestons notre proximit√© aux victimes et les encourageons √† aller de l'avant par le pardon",
    "t√©moignons notre compassion aux personnes troubl√©es et les invitons √† tourner la page dans la r√©conciliation",
    "exprimons notre soutien aux √¢mes √©branl√©es et les accompagnons pour avancer par la mis√©ricorde",
    "montrons notre solidarit√© aux personnes affect√©es et les encourageons √† passer √† autre chose dans le pardon",
    "manifestons notre compr√©hension aux victimes et les soutenons pour aller de l'avant par la r√©conciliation",
    "t√©moignons notre bienveillance aux personnes touch√©es et les invitons √† tourner la page dans la mis√©ricorde",
    "exprimons notre empathie aux victimes et les encourageons √† regarder vers l'avenir par le pardon",
    "montrons notre attention aux personnes √©prouv√©es et les accompagnons pour avancer dans la r√©conciliation",
    "manifestons notre fraternit√© aux victimes et les invitons √† aller de l'avant par la mis√©ricorde",
    "t√©moignons notre sollicitude aux √¢mes bless√©es et les encourageons √† tourner la page dans le pardon",
    "exprimons notre proximit√© aux personnes affect√©es et les soutenons pour passer √† autre chose par la r√©conciliation",
    "montrons notre compassion aux victimes et les accompagnons vers l'avenir dans la mis√©ricorde"
  ],

  // Actions (doubl√©) - maintenant dans le premier paragraphe
  actions: [
    "nous nous engageons √† approfondir notre r√©flexion dans un esprit de synodalit√©",
    "nous mettons en place un processus d'√©valuation de nos pratiques pastorales",
    "nous renfor√ßons nos dispositifs d'accompagnement spirituel du clerg√©",
    "nous nous attachons √† d√©velopper une d√©marche de discernement communautaire",
    "nous instaurons des m√©canismes de dialogue et de concertation renforc√©s",
    "nous consolidons nos structures de formation et d'accompagnement pastoral"
  ],

  // Mis√©ricorde (phrases plus courtes, pardon/mis√©ricorde pour les coupables)
  misericorde: [
    "Rappelons que la mis√©ricorde divine s'√©tend √† tous, et doit guider notre discernement",
    "Le pardon √©vang√©lique concerne chaque membre de notre communaut√©, y compris les accus√©s",
    "La mis√©ricorde du Christ embrasse tous les enfants de Dieu sans exception",
    "La compassion divine rayonne sur chacun. La pr√©somption d'innocence demeure fondamentale",
    "Le pardon du Seigneur s'offre √† tous, m√™me aux plus fautifs d'entre nous",
    "M√©ditons sur la mis√©ricorde infinie qui unit tous nos fr√®res, victimes et coupables pr√©sum√©s, dans la charit√©"
  ],

  // "Dans la tourmente" transitions (doubl√©)
  tourmentes: [
    "Dans la tourmente",
    "Au c≈ìur de la temp√™te",
    "En ces temps d'√©preuve",
    "Malgr√© les turbulences",
    "Dans cette p√©riode difficile",
    "Au sein de ces bouleversements",
    "Face √† l'adversit√©",
    "Dans ces moments troubl√©s",
    "Malgr√© les difficult√©s",
    "En d√©pit des √©preuves",
    "Dans ce contexte d√©licat",
    "Au milieu des d√©fis"
  ],

  // Good fruits deflection (doubl√©)
  goodFruits: [
    "il convient de ne pas occulter les fruits de gr√¢ce de nos paroisses",
    "nous devons garder √† l'esprit les t√©moignages de foi de notre dioc√®se",
    "il serait injuste d'ignorer les actions caritatives de nos communaut√©s",
    "nous ne saurions oublier les vocations qui confirment l'Esprit Saint",
    "rappelons-nous les signes d'esp√©rance de notre √âglise",
    "gardons pr√©sents les √©lans missionnaires qui nous dynamisent",
    "il importe de souligner les merveilles qui s'accomplissent dans nos paroisses",
    "nous devons reconna√Ætre les conversions authentiques de notre dioc√®se",
    "il serait dommage d'omettre les ≈ìuvres caritatives de nos fid√®les",
    "nous ne pouvons ignorer les gr√¢ces qui abondent dans nos communaut√©s",
    "rappelons les initiatives g√©n√©reuses qui fleurissent dans notre √âglise",
    "gardons en m√©moire les projets porteurs d'esp√©rance qui nous animent"
  ],

  // Origin deflection (doubl√©)
  originDeflection: [
    "sans nous leurrer sur l'origine de ces perturbations",
    "en gardant √† l'esprit les sources de ces troubles",
    "sans perdre de vue les ferments de division",
    "sans ignorer les v√©ritables causes de ces difficult√©s",
    "en identifiant clairement les racines de ces tensions",
    "sans oublier les influences qui alimentent ces pol√©miques"
  ],

  // Scapegoats (doubl√©)
  scapegoats: [
    "certains m√©dias en qu√™te de sensationnalisme",
    "des mouvements traditionalistes ferm√©s au souffle de l'Esprit",
    "des lobbies progressistes d√©connect√©s de la Tradition",
    "des r√©seaux occultes hostiles √† l'√âvangile",
    "des groupuscules anticl√©ricaux",
    "des influences s√©culi√®res cherchant √† saper notre rayonnement",
    "des organes de presse avides de pol√©miques",
    "des courants int√©gristes fig√©s dans leurs certitudes",
    "des factions modernistes √©trang√®res √† l'√âglise",
    "des cercles oppos√©s √† la mission √©vang√©lisatrice",
    "des militants nourris de pr√©jug√©s anti-religieux",
    "des forces s'acharnant √† ternir notre image"
  ],

  // Langue de bois responses (doubl√©)
  responses: [
    "dans un esprit de dialogue constructif",
    "en nous appuyant sur les valeurs qui nous guident",
    "avec le souci de l'unit√© de notre √âglise",
    "dans une d√©marche de v√©rit√© et de r√©conciliation",
    "en privil√©giant l'√©coute bienveillante",
    "dans le respect de la dignit√© de chaque personne",
    "dans une approche pastorale empreinte de charit√©",
    "en nous fondant sur les enseignements de l'√âglise",
    "avec la volont√© de servir l'unit√©",
    "dans un souci de fraternit√© et de pardon",
    "en favorisant l'accompagnement personnalis√© et la mis√©ricorde",
    "dans l'esprit de communion qui caract√©rise notre foi chr√©tienne"
  ],

  // Spiritual endings (doubl√©)
  spiritualEndings: [
    "afin d'ouvrir des fen√™tres d'esp√©rance sur l'√©ternit√©",
    "pour que jaillissent des sources de gr√¢ce dans nos c≈ìurs",
    "en vue de faire germer la paix √©vang√©lique dans nos √¢mes",
    "dans l'espoir de voir fleurir la mis√©ricorde divine",
    "pour que r√©sonne la m√©lodie c√©leste dans nos pri√®res",
    "afin que s'√©panouisse la lumi√®re du Christ",
    "pour que s'ouvrent les chemins de la r√©conciliation",
    "afin que rayonnent les fruits de l'Esprit Saint",
    "en vue de cultiver les vertus th√©ologales dans nos communaut√©s",
    "dans l'attente de voir grandir la communion fraternelle",
    "pour que s'accomplisse la volont√© divine dans nos vies",
    "afin que se manifestent les signes du Royaume"
  ],

  // Bullshitty closings (doubl√©)
  closings: [
    "Concentrons-nous sur ce qui est beau et √©vang√©lique",
    "Tournons nos regards vers l'esp√©rance chr√©tienne plut√¥t que vers les pol√©miques",
    "Privil√©gions nos liturgies aux controverses m√©diatiques",
    "Pr√©f√©rons l'√©coute fraternelle aux clameurs st√©riles",
    "Choisissons le dialogue plut√¥t que les divisions",
    "Focalisons-nous sur notre mission d'√©vang√©lisation",
    "Orientons nos c≈ìurs vers la beaut√© de la foi",
    "Dirigeons notre attention vers les merveilles de la Cr√©ation plut√¥t que vers les divisions",
    "Favorisons la pri√®re contemplative aux d√©bats st√©riles",
    "Pr√©f√©rons la m√©ditation spirituelle aux pol√©miques destructrices",
    "Choisissons la charit√© chr√©tienne plut√¥t que les affrontements",
    "Concentrons-nous sur l'essentiel de notre vocation pastorale"
  ]
};
---

<Layout title="Pipotron √âpiscopal">
  <div class="py-4">
    <!-- Title -->
    <h1 class="mb-6 text-4xl font-bold text-center">Pipotron √âpiscopal</h1>
    
    <!-- Official Document Result Area -->
    <div class="mb-6 mx-auto max-w-4xl">
      <div class="bg-gray-100 text-black rounded-lg shadow-2xl border-4 border-gray-400 relative overflow-hidden">
        <!-- Official Header -->
        <div class="bg-gray-600 text-white p-6 text-center border-b-4 border-gray-400">
          <div class="flex items-center justify-center space-x-4">
            <div>
              <h2 class="text-xl font-bold">COMMUNIQU√â DE PRESSE</h2>
              <p class="text-sm opacity-90">Dioc√®se de Saint-Barbant</p>
            </div>
          </div>
        </div>
        
        <!-- Document Content -->
        <div class="p-8">
          <div id="result" class="min-h-32 flex items-center justify-center">
            <p class="text-gray-500 text-center italic">
              Cliquez sur "G√©n√©rer un nouveau" pour cr√©er un communiqu√© de mis√©ricorde
            </p>
          </div>
        </div>
        
        <!-- Decorative corners -->
        <div class="absolute top-0 left-0 w-8 h-8 border-l-4 border-t-4 border-gray-400"></div>
        <div class="absolute top-0 right-0 w-8 h-8 border-r-4 border-t-4 border-gray-400"></div>
        <div class="absolute bottom-0 left-0 w-8 h-8 border-l-4 border-b-4 border-gray-400"></div>
        <div class="absolute bottom-0 right-0 w-8 h-8 border-r-4 border-b-4 border-gray-400"></div>
      </div>
    </div>

    <!-- Generate Button -->
    <div class="text-center mb-6">
      <button 
        id="generateBtn" 
        class="btn btn-lg bg-yellow-600 text-black hover:bg-yellow-700 font-semibold"
      >
        üôè G√©n√©rer un nouveau communiqu√© de mis√©ricorde
      </button>
    </div>

    <!-- Instructions -->
    <div class="mb-6 p-4 bg-white/5 rounded-lg border border-white/10">
      <p class="text-center text-white/90">
        Ou composez manuellement votre communiqu√© en s√©lectionnant dans les listes ci-dessous
      </p>
    </div>

    <!-- Word Lists Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3">
      <!-- Column 1 -->
      <div class="space-y-3">
        <div class="bg-white/5 rounded-lg p-3 border border-white/10">
          <label class="block text-white font-medium mb-2 text-sm">üì∞ Incident (flou)</label>
          <select 
            id="incidents" 
            class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
            size="4"
          >
            <option value="">-- Choisir --</option>
            {wordLists.incidents.map(word => <option value={word}>{word}</option>)}
          </select>
        </div>
        
        <div class="bg-white/5 rounded-lg p-3 border border-white/10">
          <label class="block text-white font-medium mb-2 text-sm">üçá Bons fruits (obligatoires)</label>
          <select 
            id="goodFruits" 
            class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
            size="4"
          >
            <option value="">-- Choisir --</option>
            {wordLists.goodFruits.map(word => <option value={word}>{word}</option>)}
          </select>
        </div>
      </div>

      <!-- Column 2 -->
      <div class="space-y-3">
        <div class="bg-white/5 rounded-lg p-3 border border-white/10">
          <label class="block text-white font-medium mb-2 text-sm">üòî Reconnaissance (partielle)</label>
          <select 
            id="acknowledgments" 
            class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
            size="4"
          >
            <option value="">-- Choisir --</option>
            {wordLists.acknowledgments.map(word => <option value={word}>{word}</option>)}
          </select>
        </div>
        
        <div class="bg-white/5 rounded-lg p-3 border border-white/10">
          <label class="block text-white font-medium mb-2 text-sm">üîç Origine (d√©tourn√©e)</label>
          <select 
            id="originDeflection" 
            class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
            size="4"
          >
            <option value="">-- Choisir --</option>
            {wordLists.originDeflection.map(word => <option value={word}>{word}</option>)}
          </select>
        </div>
      </div>

      <!-- Column 3 -->
      <div class="space-y-3">
        <div class="bg-white/5 rounded-lg p-3 border border-white/10">
          <label class="block text-white font-medium mb-2 text-sm">üíî Excuses (rapides)</label>
          <select 
            id="apologies" 
            class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
            size="4"
          >
            <option value="">-- Choisir --</option>
            {wordLists.apologies.map(word => <option value={word}>{word}</option>)}
          </select>
        </div>
        
        <div class="bg-white/5 rounded-lg p-3 border border-white/10">
          <label class="block text-white font-medium mb-2 text-sm">üéØ Boucs √©missaires (pratiques)</label>
          <select 
            id="scapegoats" 
            class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
            size="4"
          >
            <option value="">-- Choisir --</option>
            {wordLists.scapegoats.map(word => <option value={word}>{word}</option>)}
          </select>
        </div>
      </div>

      <!-- Column 4 -->
      <div class="space-y-3">
        <div class="bg-white/5 rounded-lg p-3 border border-white/10">
          <label class="block text-white font-medium mb-2 text-sm">üôè Mis√©ricorde (s√©lective)</label>
          <select 
            id="misericorde" 
            class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
            size="4"
          >
            <option value="">-- Choisir --</option>
            {wordLists.misericorde.map(word => <option value={word}>{word}</option>)}
          </select>
        </div>
        
        <div class="bg-white/5 rounded-lg p-3 border border-white/10">
          <label class="block text-white font-medium mb-2 text-sm">‚ö° Actions (vagues)</label>
          <select 
            id="actions" 
            class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
            size="4"
          >
            <option value="">-- Choisir --</option>
            {wordLists.actions.map(word => <option value={word}>{word}</option>)}
          </select>
        </div>
      </div>
    </div>

    <!-- New row for remaining items -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mt-3">
      <div class="bg-white/5 rounded-lg p-3 border border-white/10">
        <label class="block text-white font-medium mb-2 text-sm">üí¨ R√©ponses (langue de bois)</label>
        <select 
          id="responses" 
          class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
          size="4"
        >
          <option value="">-- Choisir --</option>
          {wordLists.responses.map(word => <option value={word}>{word}</option>)}
        </select>
      </div>
      
      <div class="bg-white/5 rounded-lg p-3 border border-white/10">
        <label class="block text-white font-medium mb-2 text-sm">‚ú® Fins spirituelles (creuses)</label>
        <select 
          id="spiritualEndings" 
          class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
          size="4"
        >
          <option value="">-- Choisir --</option>
          {wordLists.spiritualEndings.map(word => <option value={word}>{word}</option>)}
        </select>
      </div>
      
      <div class="bg-white/5 rounded-lg p-3 border border-white/10">
        <label class="block text-white font-medium mb-2 text-sm">üå∏ Conclusion (d√©tournement)</label>
        <select 
          id="closings" 
          class="w-full p-2 bg-white/10 border border-white/20 rounded text-white text-xs" 
          size="4"
        >
          <option value="">-- Choisir --</option>
          {wordLists.closings.map(word => <option value={word}>{word}</option>)}
        </select>
      </div>
    </div>

    <!-- Reset Button -->
    <div class="text-center mt-6">
      <button 
        id="resetBtn" 
        class="btn bg-white/10 text-white hover:bg-white/20"
      >
        üîÑ R√©initialiser
      </button>
    </div>
  </div>

  <script>
    const wordLists = {
      incidents: [
        "Suite aux r√©cents √©v√©nements qui ont touch√© notre communaut√© dioc√©saine",
        "Face aux difficult√©s pastorales que traverse notre dioc√®se en ces temps troubl√©s",
        "Concernant les situations port√©es √† notre attention",
        "√Ä la lumi√®re des t√©moignages qui nous sont parvenus",
        "Devant les d√©fis pastoraux auxquels nous sommes confront√©s",
        "En r√©ponse aux pr√©occupations exprim√©es par nos fid√®les",
        "Suite aux interrogations soulev√©es dans notre dioc√®se",
        "Face aux circonstances qui interpellent notre communaut√©",
        "Concernant les questions qui nous ont √©t√© rapport√©es",
        "√Ä la suite des √©v√©nements qui ont marqu√© notre famille dioc√©saine",
        "Devant les enjeux pastoraux de cette p√©riode d√©licate",
        "En r√©action aux inqui√©tudes exprim√©es"
      ],
      acknowledgments: [
        "nous reconnaissons que des dysfonctionnements ont pu survenir",
        "nous prenons acte des questionnements de notre communaut√©",
        "nous entendons les inqui√©tudes de nos paroissiens",
        "nous mesurons l'ampleur des interrogations suscit√©es",
        "nous sommes conscients des fragilit√©s de notre institution",
        "nous accueillons les interpellations qui nous sont adress√©es",
        "nous admettons que des manquements ont pu se produire",
        "nous comprenons les pr√©occupations de nos fid√®les",
        "nous entendons les questions l√©gitimes pos√©es",
        "nous reconnaissons les difficult√©s rencontr√©es",
        "nous sommes sensibles aux inqui√©tudes exprim√©es",
        "nous prenons la mesure des interrogations soulev√©es"
      ],
      apologies: [
        "manifestons notre proximit√© aux victimes et les encourageons √† aller de l'avant par le pardon",
        "t√©moignons notre compassion aux personnes troubl√©es et les invitons √† tourner la page dans la r√©conciliation",
        "exprimons notre soutien aux √¢mes √©branl√©es et les accompagnons pour avancer par la mis√©ricorde",
        "montrons notre solidarit√© aux personnes affect√©es et les encourageons √† passer √† autre chose dans le pardon",
        "manifestons notre compr√©hension aux victimes et les soutenons pour aller de l'avant par la r√©conciliation",
        "t√©moignons notre bienveillance aux personnes touch√©es et les invitons √† tourner la page dans la mis√©ricorde",
        "exprimons notre empathie aux victimes et les encourageons √† regarder vers l'avenir par le pardon",
        "montrons notre attention aux personnes √©prouv√©es et les accompagnons pour avancer dans la r√©conciliation",
        "manifestons notre fraternit√© aux victimes et les invitons √† aller de l'avant par la mis√©ricorde",
        "t√©moignons notre sollicitude aux √¢mes bless√©es et les encourageons √† tourner la page dans le pardon",
        "exprimons notre proximit√© aux personnes affect√©es et les soutenons pour passer √† autre chose par la r√©conciliation",
        "montrons notre compassion aux victimes et les accompagnons vers l'avenir dans la mis√©ricorde"
      ],
      actions: [
        "nous nous engageons √† approfondir notre r√©flexion dans un esprit de synodalit√©",
        "nous mettons en place un processus d'√©valuation de nos pratiques pastorales",
        "nous renfor√ßons nos dispositifs d'accompagnement spirituel du clerg√©",
        "nous nous attachons √† d√©velopper une d√©marche de discernement communautaire",
        "nous instaurons des m√©canismes de dialogue et de concertation renforc√©s",
        "nous consolidons nos structures de formation et d'accompagnement pastoral"
      ],
      misericorde: [
        "Rappelons que la mis√©ricorde divine s'√©tend √† tous, et doit guider notre discernement",
        "Le pardon √©vang√©lique concerne chaque membre de notre communaut√©, y compris les accus√©s",
        "La mis√©ricorde du Christ embrasse tous les enfants de Dieu sans exception",
        "La compassion divine rayonne sur chacun. La pr√©somption d'innocence demeure fondamentale",
        "Le pardon du Seigneur s'offre √† tous, m√™me aux plus fautifs d'entre nous",
        "M√©ditons sur la mis√©ricorde infinie qui unit tous nos fr√®res, victimes et coupables pr√©sum√©s, dans la charit√©"
      ],
      tourmentes: [
        "Dans la tourmente",
        "Au c≈ìur de la temp√™te",
        "En ces temps d'√©preuve",
        "Malgr√© les turbulences",
        "Dans cette p√©riode difficile",
        "Au sein de ces bouleversements",
        "Face √† l'adversit√©",
        "Dans ces moments troubl√©s",
        "Malgr√© les difficult√©s",
        "En d√©pit des √©preuves",
        "Dans ce contexte d√©licat",
        "Au milieu des d√©fis"
      ],
      goodFruits: [
        "il convient de ne pas occulter les fruits de gr√¢ce de nos paroisses",
        "nous devons garder √† l'esprit les t√©moignages de foi de notre dioc√®se",
        "il serait injuste d'ignorer les actions caritatives de nos communaut√©s",
        "nous ne saurions oublier les vocations qui confirment l'Esprit Saint",
        "rappelons-nous les signes d'esp√©rance de notre √âglise",
        "gardons pr√©sents les √©lans missionnaires qui nous dynamisent",
        "il importe de souligner les merveilles qui s'accomplissent dans nos paroisses",
        "nous devons reconna√Ætre les conversions authentiques de notre dioc√®se",
        "il serait dommage d'omettre les ≈ìuvres caritatives de nos fid√®les",
        "nous ne pouvons ignorer les gr√¢ces qui abondent dans nos communaut√©s",
        "rappelons les initiatives g√©n√©reuses qui fleurissent dans notre √âglise",
        "gardons en m√©moire les projets porteurs d'esp√©rance qui nous animent"
      ],
      originDeflection: [
        "sans nous leurrer sur l'origine de ces perturbations",
        "en gardant √† l'esprit les sources de ces troubles",
        "sans perdre de vue les ferments de division",
        "sans ignorer les v√©ritables causes de ces difficult√©s",
        "en identifiant clairement les racines de ces tensions",
        "sans oublier les influences qui alimentent ces pol√©miques"
      ],
      scapegoats: [
        "certains m√©dias en qu√™te de sensationnalisme",
        "des mouvements traditionalistes ferm√©s au souffle de l'Esprit",
        "des lobbies progressistes d√©connect√©s de la Tradition",
        "des r√©seaux occultes hostiles √† l'√âvangile",
        "des groupuscules anticl√©ricaux",
        "des influences s√©culi√®res cherchant √† saper notre rayonnement",
        "des organes de presse avides de pol√©miques",
        "des courants int√©gristes fig√©s dans leurs certitudes",
        "des factions modernistes √©trang√®res √† l'√âglise",
        "des cercles oppos√©s √† la mission √©vang√©lisatrice",
        "des militants nourris de pr√©jug√©s anti-religieux",
        "des forces s'acharnant √† ternir notre image"
      ],
      responses: [
        "dans un esprit de dialogue constructif",
        "en nous appuyant sur les valeurs qui nous guident",
        "avec le souci de l'unit√© de notre √âglise",
        "dans une d√©marche de v√©rit√© et de r√©conciliation",
        "en privil√©giant l'√©coute bienveillante",
        "dans le respect de la dignit√© de chaque personne",
        "dans une approche pastorale empreinte de charit√©",
        "en nous fondant sur les enseignements de l'√âglise",
        "avec la volont√© de servir l'unit√©",
        "dans un souci de fraternit√© et de pardon",
        "en favorisant l'accompagnement personnalis√© et la mis√©ricorde",
        "dans l'esprit de communion qui caract√©rise notre foi chr√©tienne"
      ],
      spiritualEndings: [
        "afin d'ouvrir des fen√™tres d'esp√©rance sur l'√©ternit√©",
        "pour que jaillissent des sources de gr√¢ce dans nos c≈ìurs",
        "en vue de faire germer la paix √©vang√©lique dans nos √¢mes",
        "dans l'espoir de voir fleurir la mis√©ricorde divine",
        "pour que r√©sonne la m√©lodie c√©leste dans nos pri√®res",
        "afin que s'√©panouisse la lumi√®re du Christ",
        "pour que s'ouvrent les chemins de la r√©conciliation",
        "afin que rayonnent les fruits de l'Esprit Saint",
        "en vue de cultiver les vertus th√©ologales dans nos communaut√©s",
        "dans l'attente de voir grandir la communion fraternelle",
        "pour que s'accomplisse la volont√© divine dans nos vies",
        "afin que se manifestent les signes du Royaume"
      ],
      closings: [
        "Concentrons-nous sur ce qui est beau et √©vang√©lique",
        "Tournons nos regards vers l'esp√©rance chr√©tienne plut√¥t que vers les pol√©miques",
        "Privil√©gions nos liturgies aux controverses m√©diatiques",
        "Pr√©f√©rons l'√©coute fraternelle aux clameurs st√©riles",
        "Choisissons le dialogue plut√¥t que les divisions",
        "Focalisons-nous sur notre mission d'√©vang√©lisation",
        "Orientons nos c≈ìurs vers la beaut√© de la foi",
        "Dirigeons notre attention vers les merveilles de la Cr√©ation plut√¥t que vers les divisions",
        "Favorisons la pri√®re contemplative aux d√©bats st√©riles",
        "Pr√©f√©rons la m√©ditation spirituelle aux pol√©miques destructrices",
        "Choisissons la charit√© chr√©tienne plut√¥t que les affrontements",
        "Concentrons-nous sur l'essentiel de notre vocation pastorale"
      ]
    };

    function getRandomItem(array) {
      return array[Math.floor(Math.random() * array.length)];
    }

    function generateCommunique() {
      const incident = getRandomItem(wordLists.incidents);
      const acknowledgment = getRandomItem(wordLists.acknowledgments);
      const apology = getRandomItem(wordLists.apologies);
      const action = getRandomItem(wordLists.actions);
      const misericorde = getRandomItem(wordLists.misericorde);
      const tourmente = getRandomItem(wordLists.tourmentes);
      const goodFruit = getRandomItem(wordLists.goodFruits);
      const originDeflection = getRandomItem(wordLists.originDeflection);
      const scapegoat = getRandomItem(wordLists.scapegoats);
      const response = getRandomItem(wordLists.responses);
      const spiritualEnding = getRandomItem(wordLists.spiritualEndings);
      const closing = getRandomItem(wordLists.closings);

      const communique = `${incident}, ${acknowledgment}. En ces temps troubl√©s, ${apology}. ${misericorde}. C'est pourquoi, ${response}, ${action} ${spiritualEnding}.

${tourmente}, ${goodFruit}. Il importe √©galement, ${originDeflection}, de ne pas c√©der aux man≈ìuvres de ${scapegoat}.

${closing}.`;
      
      return communique;
    }

    document.getElementById('generateBtn').addEventListener('click', function() {
      const communique = generateCommunique();
      document.getElementById('result').innerHTML = `
        <div class="text-left">
          <p class="text-base font-medium text-gray-800 leading-relaxed mb-6 whitespace-pre-line">${communique}</p>
          <div class="text-right text-sm text-gray-600 italic mt-4">
            <p>+ Monseigneur Claude-Henri de Mis√©ricorde</p>
            <p>√âv√™que de Saint-Barbant</p>
          </div>
        </div>
      `;
    });

    document.getElementById('resetBtn').addEventListener('click', function() {
      const selects = document.querySelectorAll('select');
      selects.forEach(select => {
        select.selectedIndex = 0;
      });
      document.getElementById('result').innerHTML = `<p class="text-gray-500 text-center italic">Cliquez sur "G√©n√©rer un nouveau" pour cr√©er un communiqu√© de mis√©ricorde</p>`;
    });

    const selects = document.querySelectorAll('select');
    selects.forEach(select => {
      select.addEventListener('change', function() {
        updateManualCommunique();
      });
    });

    function updateManualCommunique() {
      const selectedValues = {};
      selects.forEach(select => {
        if (select.value) {
          selectedValues[select.id] = select.value;
        }
      });

      if (Object.keys(selectedValues).length > 0) {
        let communique = "";
        
        // Premier paragraphe : incident + acknowledgment + apology + action + misericorde
        if (selectedValues.incidents) communique += selectedValues.incidents;
        if (selectedValues.acknowledgments) communique += `, ${selectedValues.acknowledgments}.`;
        if (selectedValues.apologies) communique += ` En ces temps troubl√©s, ${selectedValues.apologies}.`;
        if (selectedValues.misericorde) communique += ` ${selectedValues.misericorde}.`;
        if (selectedValues.responses || selectedValues.actions) {
          communique += " C'est pourquoi, ";
          if (selectedValues.responses) communique += selectedValues.responses + ", ";
          if (selectedValues.actions) communique += selectedValues.actions + " ";
          if (selectedValues.spiritualEndings) communique += selectedValues.spiritualEndings + ".";
        }

        // Deuxi√®me paragraphe : goodFruits + originDeflection + scapegoats
        if (selectedValues.goodFruits) communique += `\n\nDans la tourmente, ${selectedValues.goodFruits}.`;
        if (selectedValues.originDeflection || selectedValues.scapegoats) {
          communique += " Il importe √©galement, ";
          if (selectedValues.originDeflection) communique += selectedValues.originDeflection + ", ";
          if (selectedValues.scapegoats) communique += `de ne pas c√©der aux man≈ìuvres de ${selectedValues.scapegoats}.`;
        }

        // Troisi√®me paragraphe : closing
        if (selectedValues.closings) communique += `\n\n${selectedValues.closings}.`;

        if (communique.trim()) {
          document.getElementById('result').innerHTML = `
            <div class="text-left">
              <p class="text-base font-medium text-gray-800 leading-relaxed mb-6 whitespace-pre-line">${communique}</p>
              <div class="text-right text-sm text-gray-600 italic mt-4">
                <p>+ Monseigneur Claude-Henri de Mis√©ricorde</p>
                <p>√âv√™que de Saint-Barbant</p>
              </div>
            </div>
          `;
        }
      }
    }
  </script>
</Layout>
